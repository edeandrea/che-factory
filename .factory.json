{
  "v":"4.0",
  "creator":{
    "name":"Eric Deandrea",
    "email":"edeandrea@redhat.com"
  },
  "workspace":{
    "defaultEnv":"default",
    "name":"transitioning-applications-rh-summit-2019",
    "environments":{
      "default":{
        "machines":{
          "dev-machine":{
            "installers":[
              "org.eclipse.che.exec",
              "org.eclipse.che.terminal",
              "org.eclipse.che.ws-agent"
            ],
            "env":{
              "CHE_MACHINE_NAME":"dev-machine"
            },
            "servers":{
              "tomcat8-debug":{
                "protocol":"http",
                "port":"8000"
              },
              "codeserver":{
                "protocol":"http",
                "port":"9876"
              },
              "tomcat8":{
                "protocol":"http",
                "port":"8080"
              }
            },
            "attributes":{
              "memoryLimitBytes":2147483648
            }
          }
        },
        "recipe":{
          "type":"dockerimage",
          "content":"eclipse/ubuntu_jdk8"
        }
      }
    },
    "commands":[
      {
        "commandLine":"mvn clean install -f ${current.project.path}",
        "name":"build",
        "type":"mvn",
        "attributes":{
          "goal":"Build",
          "previewUrl":""
        }
      },
      {
        "commandLine":"mvn clean install -f ${current.project.path} && cp ${current.project.path}/target/*.war $TOMCAT_HOME/webapps/ROOT.war",
        "name":"deploy",
        "type":"mvn",
        "attributes":{
          "goal":"Deploy",
          "previewUrl":"${server.tomcat8}"
        }
      },
      {
        "commandLine":"$TOMCAT_HOME/bin/startup.sh",
        "name":"startTomcat",
        "type":"custom"
      },
      {
        "commandLine":"$TOMCAT_HOME/bin/shutdown.sh",
        "name":"stopTomcat",
        "type":"custom"
      }
    ],
    "projects":[
      {
        "name": "transitioning-applications",
        "type": "blank",
        "source": {
          "location": "https://gitlab.com/edeandrea/transitioning-existing-applications-to-containers-its-easier-than-you-think.git",
          "type": "git"
        },
        "path": "/transitioning-applications",
        "description": "Transitioning applications lab content"
      },
      {
        "name": "SampleWebApp",
        "type": "maven",
        "path": "/transitioning-applications/projects/SampleWebApp",
        "description": "Simple Web application that needs to be deployed to some Java container"
    	}
    ]
  },
  "ide": {
  	"onProjectsLoaded": {
  		"actions": [
  			{
  				"id": "runCommand",
  				"properties": {
  					"name": "startTomcat"
  				}
  			}
  		]
  	}
  }
}
